<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button onclick="insertCoin(100);">100원</button>
    <button onclick="insertCoin(500);">500원</button>
    <button onclick="insertCoin(1000);">1000원</button>
    <button onclick="insertCoin(5000);">5000원</button>

    <button onClick="returnChange()">잔돈 반환</button>

    <p>현재금액 : <span id="total-money">0</span>원</p>
    <p>메세지 : <span id="message"></span></p>

    <button onclick="buy(500);">콜라 : 500원</button>
    <button onclick="buy(600);">사이다 : 600원</button>
    <button onclick="buy(1000);">물 : 1000원</button>
    <button onclick="buy(2000);">맥주 : 2000원</button>

    <script>
      // 1. 버튼리스트 만들기
      // 2. 버튼을 누르면 insertCoin함수를 실행
      // 3. 버튼마다 증가하는 돈이 다름

      let totalMoney = 0;
      const insertCoin = (money) => {
        // 4. money만큼 totalMoney를 증가시키고
        totalMoney += money;
        // 5. totalMoney를 console.log;
        printTotalMoney();

        const message = `${money}원을 넣으셨습니다.`;
        printMessage(message);
      };
      const buy = (money) => {
        // 가격이 소지금액보다 크면 alert&구매 불가
        if (money > totalMoney) {
          alert("구매불가");
        } else {
          // 4. money만큼 totalMoney를 감소시키고
          totalMoney -= money;

          const message = `음료를 구매하였습니다. (${money}원)`;
          printMessage(message);
        }
        // 5. totalMoney를 console.log;
        printTotalMoney();
      };
      const returnChange = () => {
        totalMoney = 0;
        printTotalMoney();

        const message = `잔돈을 반환하였습니다.`;
        printMessage(message);
      };

      const printTotalMoney = () => {
        document.querySelector("#total-money").innerHTML = totalMoney;
      };
      const printMessage = (message) => {
        document.querySelector("#message").innerHTML = message;
      };
    </script>
  </body>
</html>
